<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.9.8" xml:lang="zh">
  <compounddef id="classhello__world_1_1algorithms_1_1controller_1_1pid_1_1_diff_previous" kind="class" language="C++" prot="public">
    <compoundname>hello_world::algorithms::controller::pid::DiffPrevious</compoundname>
    <includes refid="pid__opt_8hpp" local="no">pid_opt.hpp</includes>
    <sectiondef kind="private-attrib">
      <memberdef kind="variable" id="classhello__world_1_1algorithms_1_1controller_1_1pid_1_1_diff_previous_1ad085fab9a4dbec69506b1effe527a60f" prot="private" static="no" mutable="no">
        <type>float</type>
        <definition>float hello_world::algorithms::controller::pid::DiffPrevious::weight_</definition>
        <argsstring></argsstring>
        <name>weight_</name>
        <qualifiedname>hello_world::algorithms::controller::pid::DiffPrevious::weight_</qualifiedname>
        <briefdescription>
<para>对输出微分的权重值，同时作为是否启用的标志 </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="HW-Components/algorithms/controller/inc/pid_opt.hpp" line="870" column="9" bodyfile="HW-Components/algorithms/controller/inc/pid_opt.hpp" bodystart="870" bodyend="-1"/>
      </memberdef>
    </sectiondef>
    <sectiondef kind="public-func">
      <memberdef kind="function" id="classhello__world_1_1algorithms_1_1controller_1_1pid_1_1_diff_previous_1a89d9400882a9039da7729e0abcc9f205" prot="public" static="no" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type></type>
        <definition>hello_world::algorithms::controller::pid::DiffPrevious::DiffPrevious</definition>
        <argsstring>(float weight=0.5)</argsstring>
        <name>DiffPrevious</name>
        <qualifiedname>hello_world::algorithms::controller::pid::DiffPrevious::DiffPrevious</qualifiedname>
        <param>
          <type>float</type>
          <declname>weight</declname>
          <defval>0.5</defval>
        </param>
        <briefdescription>
<para>构造函数，初始化微分先行优化参数 </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>weight</parametername>
</parameternamelist>
<parameterdescription>
<para>对输出微分的权重值，默认值为0.5 </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="HW-Components/algorithms/controller/inc/pid_opt.hpp" line="798" column="3" bodyfile="HW-Components/algorithms/controller/inc/pid_opt.hpp" bodystart="798" bodyend="798"/>
      </memberdef>
      <memberdef kind="function" id="classhello__world_1_1algorithms_1_1controller_1_1pid_1_1_diff_previous_1a9aaa5c9fe1d78f62d54f12f6b4bc773e" prot="public" static="no" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type><ref refid="namespacehello__world_1_1algorithms_1_1controller_1a3651797f880533c49c9b90a0961c199d" kindref="member">State</ref></type>
        <definition>State hello_world::algorithms::controller::pid::DiffPrevious::setEnabled</definition>
        <argsstring>(float weight)</argsstring>
        <name>setEnabled</name>
        <qualifiedname>hello_world::algorithms::controller::pid::DiffPrevious::setEnabled</qualifiedname>
        <param>
          <type>float</type>
          <declname>weight</declname>
        </param>
        <briefdescription>
<para>设置是否启用微分先行优化 </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>weight</parametername>
</parameternamelist>
<parameterdescription>
<para>对输出微分的权重值 </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>设置状态，如果参数合法返回kStateOk，否则在处理非法参数后返回kStateError </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="HW-Components/algorithms/controller/inc/pid_opt.hpp" line="805" column="16" bodyfile="HW-Components/algorithms/controller/inc/pid_opt.hpp" bodystart="805" bodyend="805"/>
      </memberdef>
      <memberdef kind="function" id="classhello__world_1_1algorithms_1_1controller_1_1pid_1_1_diff_previous_1a6e067e78fbba8b78694c53ee6bdc4cc7" prot="public" static="no" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type><ref refid="namespacehello__world_1_1algorithms_1_1controller_1a3651797f880533c49c9b90a0961c199d" kindref="member">State</ref></type>
        <definition>State hello_world::algorithms::controller::pid::DiffPrevious::setWeight</definition>
        <argsstring>(float weight)</argsstring>
        <name>setWeight</name>
        <qualifiedname>hello_world::algorithms::controller::pid::DiffPrevious::setWeight</qualifiedname>
        <param>
          <type>float</type>
          <declname>weight</declname>
        </param>
        <briefdescription>
<para>设置对输出微分的权重值 </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>weight</parametername>
</parameternamelist>
<parameterdescription>
<para>对输出微分的权重值 </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>设置状态，如果参数合法返回kStateOk，否则在处理非法参数后返回kStateError </para>
</simplesect>
<parameterlist kind="retval"><parameteritem>
<parameternamelist>
<parametername>kStateOK</parametername>
</parameternamelist>
<parameterdescription>
<para>设置成功且参数合法 </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>kStateError</parametername>
</parameternamelist>
<parameterdescription>
<para>设置成功但参数非法 </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="HW-Components/algorithms/controller/inc/pid_opt.hpp" line="814" column="16" bodyfile="HW-Components/algorithms/controller/inc/pid_opt.hpp" bodystart="814" bodyend="818"/>
        <references refid="namespacehello__world_1_1algorithms_1_1controller_1a3651797f880533c49c9b90a0961c199dab648f0f65a574817d57104ddd4c7b4a9" compoundref="controller__base_8hpp" startline="34">hello_world::algorithms::controller::kStateError</references>
        <references refid="namespacehello__world_1_1algorithms_1_1controller_1a3651797f880533c49c9b90a0961c199da55ce72715605bed221a607365a27be53" compoundref="controller__base_8hpp" startline="33">hello_world::algorithms::controller::kStateOk</references>
      </memberdef>
      <memberdef kind="function" id="classhello__world_1_1algorithms_1_1controller_1_1pid_1_1_diff_previous_1a4e192c0d515a1bfb5b8cc3f0f2772e9c" prot="public" static="no" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type><ref refid="namespacehello__world_1_1algorithms_1_1controller_1a3651797f880533c49c9b90a0961c199d" kindref="member">State</ref></type>
        <definition>State hello_world::algorithms::controller::pid::DiffPrevious::setParams</definition>
        <argsstring>(float weight)</argsstring>
        <name>setParams</name>
        <qualifiedname>hello_world::algorithms::controller::pid::DiffPrevious::setParams</qualifiedname>
        <param>
          <type>float</type>
          <declname>weight</declname>
        </param>
        <briefdescription>
<para>设置微分先行优化参数 </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>weight</parametername>
</parameternamelist>
<parameterdescription>
<para>对输出微分的权重值 </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>设置状态，如果参数合法返回kStateOk，否则在处理非法参数后返回kStateError </para>
</simplesect>
<parameterlist kind="retval"><parameteritem>
<parameternamelist>
<parametername>kStateOK</parametername>
</parameternamelist>
<parameterdescription>
<para>设置成功且参数合法 </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>kStateError</parametername>
</parameternamelist>
<parameterdescription>
<para>设置成功但参数非法 </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="HW-Components/algorithms/controller/inc/pid_opt.hpp" line="827" column="16" bodyfile="HW-Components/algorithms/controller/inc/pid_opt.hpp" bodystart="827" bodyend="827"/>
      </memberdef>
      <memberdef kind="function" id="classhello__world_1_1algorithms_1_1controller_1_1pid_1_1_diff_previous_1a2407309871346e34031d483bb9974daa" prot="public" static="no" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>bool</type>
        <definition>bool hello_world::algorithms::controller::pid::DiffPrevious::isLegal</definition>
        <argsstring>()</argsstring>
        <name>isLegal</name>
        <qualifiedname>hello_world::algorithms::controller::pid::DiffPrevious::isLegal</qualifiedname>
        <briefdescription>
<para>检查微分先行优化参数是否合法 当且仅当 <computeroutput>0 &lt;= weight_ &amp;&amp; weight_ &lt;= 1</computeroutput> </para>
        </briefdescription>
        <detaileddescription>
<para><simplesect kind="return"><para>参数合法返回true，否则返回false </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="HW-Components/algorithms/controller/inc/pid_opt.hpp" line="834" column="15" bodyfile="HW-Components/algorithms/controller/inc/pid_opt.hpp" bodystart="834" bodyend="834"/>
      </memberdef>
      <memberdef kind="function" id="classhello__world_1_1algorithms_1_1controller_1_1pid_1_1_diff_previous_1a251efdca45313d86ab0daa779583255f" prot="public" static="no" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>bool</type>
        <definition>bool hello_world::algorithms::controller::pid::DiffPrevious::isEnabled</definition>
        <argsstring>()</argsstring>
        <name>isEnabled</name>
        <qualifiedname>hello_world::algorithms::controller::pid::DiffPrevious::isEnabled</qualifiedname>
        <briefdescription>
<para>检查是否启用了微分先行优化 </para>
        </briefdescription>
        <detaileddescription>
<para><simplesect kind="return"><para>如果启用了微分先行优化并且参数合法，则返回true，否则返回false </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="HW-Components/algorithms/controller/inc/pid_opt.hpp" line="840" column="15" bodyfile="HW-Components/algorithms/controller/inc/pid_opt.hpp" bodystart="840" bodyend="840"/>
      </memberdef>
      <memberdef kind="function" id="classhello__world_1_1algorithms_1_1controller_1_1pid_1_1_diff_previous_1ac654422982d9475cf5c6f6c061cd2aeb" prot="public" static="no" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>float</type>
        <definition>float hello_world::algorithms::controller::pid::DiffPrevious::calc</definition>
        <argsstring>(float fdb, float last_fdb, float err, float last_err)</argsstring>
        <name>calc</name>
        <qualifiedname>hello_world::algorithms::controller::pid::DiffPrevious::calc</qualifiedname>
        <param>
          <type>float</type>
          <declname>fdb</declname>
        </param>
        <param>
          <type>float</type>
          <declname>last_fdb</declname>
        </param>
        <param>
          <type>float</type>
          <declname>err</declname>
        </param>
        <param>
          <type>float</type>
          <declname>last_err</declname>
        </param>
        <briefdescription>
<para>计算微分先行优化后的输出值 </para>
        </briefdescription>
        <detaileddescription>
<para>具体的计算公式为：  <formula id="17">\[\frac{u_d(k)}{T(k)K_d}=\begin{cases}
w*[y(k)-y(k-1)]+(1-w)*[e(k)-e(k=1)]  &amp; ,  w \in (0,1]   \\
e(k)-e(k=1)  &amp; ,others
\end{cases}
\]</formula>， 其中 <formula id="11">$\epsilon_l$</formula> 为参数中的下限值， <formula id="12">$\epsilon_u$</formula>为参数中的上限值， <formula id="16">$w$</formula>为参数中的权重值 <parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>fdb</parametername>
</parameternamelist>
<parameterdescription>
<para>本次采样的反馈值 </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>last_fdb</parametername>
</parameternamelist>
<parameterdescription>
<para>上次采样的反馈值 </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>err</parametername>
</parameternamelist>
<parameterdescription>
<para>本次采样的误差值 </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>last_err</parametername>
</parameternamelist>
<parameterdescription>
<para>上次采样的误差值 </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>本次采样的微分先行优化后的输出值 </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="HW-Components/algorithms/controller/inc/pid_opt.hpp" line="860" column="16" bodyfile="HW-Components/algorithms/controller/inc/pid_opt.hpp" bodystart="860" bodyend="867"/>
        <referencedby refid="classhello__world_1_1algorithms_1_1controller_1_1pid_1_1_basic_pid_1a2b8667e517f1999ec3fecffe9e6bd33d" compoundref="pid_8cpp" startline="60" endline="137">hello_world::algorithms::controller::pid::BasicPid::calc</referencedby>
      </memberdef>
    </sectiondef>
    <sectiondef kind="private-func">
      <memberdef kind="function" id="classhello__world_1_1algorithms_1_1controller_1_1pid_1_1_diff_previous_1a68e08fa7ab70f66f0ba633ff139b7c27" prot="private" static="no" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>bool</type>
        <definition>bool hello_world::algorithms::controller::pid::DiffPrevious::handleIllegalParams</definition>
        <argsstring>()</argsstring>
        <name>handleIllegalParams</name>
        <qualifiedname>hello_world::algorithms::controller::pid::DiffPrevious::handleIllegalParams</qualifiedname>
        <briefdescription>
<para>处理非法参数 </para>
        </briefdescription>
        <detaileddescription>
<para><simplesect kind="return"><para>如果存在非法参数返回true，否则返回false </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="HW-Components/algorithms/controller/inc/pid_opt.hpp" line="876" column="8" bodyfile="HW-Components/algorithms/controller/inc/pid_opt.hpp" bodystart="876" bodyend="887"/>
      </memberdef>
    </sectiondef>
    <briefdescription>
<para>微分先行优化类 </para>
    </briefdescription>
    <detaileddescription>
<para>为避免由于给定值频繁升降（尤其是阶跃）而引起的系统振荡，可采用只对输出(或反馈值)微分的优化算法。 这样，在改变给定值时，微分项输出仅与被控量的变化相关，而这种变化通常是比较缓和的，从而能够明显改善系统的动态特性。 更进一步，将对输入误差微分和对输出微分采用加权求和的方式结合起来。</para>
<para><itemizedlist>
<listitem><para>具体计算公式见<computeroutput><ref refid="classhello__world_1_1algorithms_1_1controller_1_1pid_1_1_diff_previous_1ac654422982d9475cf5c6f6c061cd2aeb" kindref="member">calc(float fdb, float last_fdb, float err, float last_err)</ref></computeroutput>。</para>
</listitem><listitem><para>参数合法性检查见<computeroutput><ref refid="classhello__world_1_1algorithms_1_1controller_1_1pid_1_1_diff_previous_1a2407309871346e34031d483bb9974daa" kindref="member">isLegal()</ref></computeroutput>。</para>
</listitem><listitem><para>启用判定见<computeroutput><ref refid="classhello__world_1_1algorithms_1_1controller_1_1pid_1_1_diff_previous_1a251efdca45313d86ab0daa779583255f" kindref="member">isEnabled()</ref></computeroutput>。 </para>
</listitem></itemizedlist>
</para>
    </detaileddescription>
    <location file="HW-Components/algorithms/controller/inc/pid_opt.hpp" line="791" column="1" bodyfile="HW-Components/algorithms/controller/inc/pid_opt.hpp" bodystart="792" bodyend="888"/>
    <listofallmembers>
      <member refid="classhello__world_1_1algorithms_1_1controller_1_1pid_1_1_diff_previous_1ac654422982d9475cf5c6f6c061cd2aeb" prot="public" virt="non-virtual"><scope>hello_world::algorithms::controller::pid::DiffPrevious</scope><name>calc</name></member>
      <member refid="classhello__world_1_1algorithms_1_1controller_1_1pid_1_1_diff_previous_1a89d9400882a9039da7729e0abcc9f205" prot="public" virt="non-virtual"><scope>hello_world::algorithms::controller::pid::DiffPrevious</scope><name>DiffPrevious</name></member>
      <member refid="classhello__world_1_1algorithms_1_1controller_1_1pid_1_1_diff_previous_1a68e08fa7ab70f66f0ba633ff139b7c27" prot="private" virt="non-virtual"><scope>hello_world::algorithms::controller::pid::DiffPrevious</scope><name>handleIllegalParams</name></member>
      <member refid="classhello__world_1_1algorithms_1_1controller_1_1pid_1_1_diff_previous_1a251efdca45313d86ab0daa779583255f" prot="public" virt="non-virtual"><scope>hello_world::algorithms::controller::pid::DiffPrevious</scope><name>isEnabled</name></member>
      <member refid="classhello__world_1_1algorithms_1_1controller_1_1pid_1_1_diff_previous_1a2407309871346e34031d483bb9974daa" prot="public" virt="non-virtual"><scope>hello_world::algorithms::controller::pid::DiffPrevious</scope><name>isLegal</name></member>
      <member refid="classhello__world_1_1algorithms_1_1controller_1_1pid_1_1_diff_previous_1a9aaa5c9fe1d78f62d54f12f6b4bc773e" prot="public" virt="non-virtual"><scope>hello_world::algorithms::controller::pid::DiffPrevious</scope><name>setEnabled</name></member>
      <member refid="classhello__world_1_1algorithms_1_1controller_1_1pid_1_1_diff_previous_1a4e192c0d515a1bfb5b8cc3f0f2772e9c" prot="public" virt="non-virtual"><scope>hello_world::algorithms::controller::pid::DiffPrevious</scope><name>setParams</name></member>
      <member refid="classhello__world_1_1algorithms_1_1controller_1_1pid_1_1_diff_previous_1a6e067e78fbba8b78694c53ee6bdc4cc7" prot="public" virt="non-virtual"><scope>hello_world::algorithms::controller::pid::DiffPrevious</scope><name>setWeight</name></member>
      <member refid="classhello__world_1_1algorithms_1_1controller_1_1pid_1_1_diff_previous_1ad085fab9a4dbec69506b1effe527a60f" prot="private" virt="non-virtual"><scope>hello_world::algorithms::controller::pid::DiffPrevious</scope><name>weight_</name></member>
    </listofallmembers>
  </compounddef>
</doxygen>
